#include <stdio.h>
#include <graphics.h>
#include <math.h>
#include <conio.h>

void rotatePoint(int x, int y, int cx, int cy, float angle, int *xr, int *yr) {
    float rad = angle * (3.14159 / 180);
    int x_shifted = x - cx;
    int y_shifted = y - cy;
    *xr = cx + (x_shifted * cos(rad)) - (y_shifted * sin(rad));
    *yr = cy + (x_shifted * sin(rad)) + (y_shifted * cos(rad));
}

void drawTriangle(int x[3], int y[3], int color) {  // Changed to 3 points
    setcolor(color);
    for (int i = 0; i < 3; i++) {
        line(x[i], y[i], x[(i + 1) % 3], y[(i + 1) % 3]);  // % 3 for triangle
    }
}

int main() {
    int gd = DETECT, gm;
    initgraph(&gd, &gm, "C:\\Turboc3\\BGI");

    // Triangle coordinates (3 points instead of 4)
    int x[3] = {200, 300, 250};  // Bottom-left, Bottom-right, Top
    int y[3] = {200, 200, 100};
    
    // Rotation center (could be any point - centroid, vertex, etc.)
    int cx = 250, cy = 167;  // Approximate centroid
    
    printf("Aryan's Rotation of a triangle : ");
    drawTriangle(x, y, WHITE);
 
    int xr[3], yr[3];  // Arrays of size 3
    float angle = 45;

    for (int i = 0; i < 3; i++) {  // Loop 3 times for triangle
        rotatePoint(x[i], y[i], cx, cy, angle, &xr[i], &yr[i]);
    }

    drawTriangle(xr, yr, YELLOW);
    getch();
    closegraph();
    return 0;
}